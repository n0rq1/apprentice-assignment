name: Workflow for Liatrio Take Home Assignment 

on:
  push:
    branches: ["main", "TestGHA"]
    tags:
      - "v*.*.*"

jobs: 

  build-test-push:

    permissions:
      contents: 'read'
      id-token: 'write'

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

        env:
          GITHUB_ENV: echo "$(git tag --sort=-creatordate | head -n 1)"

      - name: Debug Version
        run: echo "Latest tag is ${{ env.GITHUB_ENV }}"

